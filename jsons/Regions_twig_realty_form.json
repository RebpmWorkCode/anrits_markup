[
    {
        "Region": {
            "title": "Twig | Создание объекта",
            "alias": "twig_realty_form",
            "block_count": 1
        },
        "Block": [
            {
                "title": "Twig | Создание объекта",
                "alias": "twig_realty_form",
                "body": "<section class=\"section-add-case\" id=\"add-case\">\r\n    <div class=\"container\">\r\n        <div class=\"add-case-block\">\r\n            <div class=\"title-normal title-min-size\"><h2>Подать объявление<\/h2><\/div>\r\n\r\n            {% set flash = _view.loadHelper('Flash') %}\r\n            {{ flash.render() }}\r\n\r\n            {{ form.create('Advertisement', {\r\n                'enctype': 'multipart\/form-data',\r\n                'url': {'plugin': 'agency', 'controller': 'realty', 'action': 'add'},\r\n                'inputDefaults': {\r\n                    'label': {\r\n                        'class': 'label-title'\r\n                    },\r\n                    'div': false,\r\n                }\r\n            }) }}\r\n            {{ form.hidden('from_site', {'value': true}) }}\r\n            {{ form.hidden('contractor_id') }}\r\n            {{ form.hidden('Contractor.0.id') }}\r\n                <div class=\"row\">\r\n                    <div class=\"col-1-2 col-xs-1\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-1-2\">{{ form.input('category_id') }}<\/div>\r\n                            <div class=\"col-1-2\">\r\n                                {{ form.input('rent', {\r\n                                    'label': {'class': 'label-title', 'text': 'Продажа \/ Аренда'},\r\n                                    'options': {\r\n                                        0: 'Продажа',\r\n                                        1: 'Аренда'\r\n                                    }\r\n                                }) }}\r\n                            <\/div>\r\n                        <\/div>\r\n                        {% set locationFormEdit = _view.loadHelper('Locations.LocationFormEdit') %}\r\n                        {{ form.input('Location.location_region_id', {\r\n                            'data-field': 'Location.location_region_id',\r\n                            'data-placeholder': location.getPlaceholder('LocationRegion'),\r\n                            'data-source': '\/locations\/data\/index\/LocationRegion',\r\n                            'empty': true,\r\n                            'options': locationFormEdit.getValues('LocationRegion'),\r\n                            'class': 'JS-location-region location-select2',\r\n                            'required': location.hasRequiredField('LocationRegion'),\r\n                            'default': location.getDefault('LocationRegion'),\r\n                            'label': {'class': 'label-title', 'text': location.getLabel('LocationRegion', location.hasRequiredField('LocationRegion'))},\r\n                        }) }}\r\n                        {{ form.input('Location.district_id', {\r\n                            'data-field': 'Location.district_id',\r\n                            'data-placeholder': location.getPlaceholder('District'),\r\n                            'data-source': '\/locations\/data\/index\/District\/location_region:',\r\n                            'data-depends': '.JS-location-region',\r\n                            'empty': true,\r\n                            'options': locationFormEdit.getValues('District'),\r\n                            'class': 'JS-district location-select2',\r\n                            'required': location.hasRequiredField('District'),\r\n                            'default': location.getDefault('District'),\r\n                            'label': {'class': 'label-title', 'text': location.getLabel('District', location.hasRequiredField('District'))},\r\n                        }) }}\r\n                        {{ form.input('Location.locality_id', {\r\n                            'data-field': 'Location.locality_id',\r\n                            'data-placeholder': location.getPlaceholder('Locality'),\r\n                            'data-source': '\/locations\/data\/index\/Locality\/district:',\r\n                            'data-depends': '.JS-district',\r\n                            'empty': true,\r\n                            'options': locationFormEdit.getValues('Locality'),\r\n                            'class': 'JS-locality location-select2',\r\n                            'required': location.hasRequiredField('Locality'),\r\n                            'default': location.getDefault('Locality'),\r\n                            'label': {'class': 'label-title', 'text': location.getLabel('Locality', location.hasRequiredField('Locality'))},\r\n                        }) }}\r\n                        {{ form.input('Location.sub_locality_id', {\r\n                            'data-field': 'Location.sub_locality_id',\r\n                            'data-placeholder': location.getPlaceholder('SubLocality'),\r\n                            'data-source': '\/locations\/data\/index\/SubLocality\/locality:',\r\n                            'data-depends': '.JS-locality',\r\n                            'empty': true,\r\n                            'options': locationFormEdit.getValues('SubLocality'),\r\n                            'class': 'JS-sub-locality location-select2',\r\n                            'required': location.hasRequiredField('SubLocality'),\r\n                            'default': location.getDefault('SubLocality'),\r\n                            'label': {'class': 'label-title', 'text': location.getLabel('SubLocality', location.hasRequiredField('SubLocality'))},\r\n                        }) }}\r\n                        {{ form.input('Location.street_id', {\r\n                            'data-field': 'Location.street_id',\r\n                            'data-placeholder': location.getPlaceholder('Street'),\r\n                            'data-source': '\/locations\/data\/index\/Street\/locality:',\r\n                            'data-depends': '.JS-locality',\r\n                            'empty': true,\r\n                            'options': locationFormEdit.getValues('Street'),\r\n                            'class': 'JS-street location-select2',\r\n                            'required': location.hasRequiredField('Street'),\r\n                            'default': location.getDefault('Street'),\r\n                            'label': {'class': 'label-title', 'text': location.getLabel('Street', location.hasRequiredField('Street'))},\r\n                        }) }}\r\n                        {{ form.input('Location.house_number', {\r\n                            'data-field': 'Location.house_number',\r\n                            'class': 'JS-house-number input-normal',\r\n                            'required': location.hasRequiredField('HouseNumber'),\r\n                            'label': {'class': 'label-title', 'text': location.getLabel('HouseNumber', location.hasRequiredField('HouseNumber'))},\r\n                        }) }}\r\n                        {{ form.input('Advertisement.apartment', {\r\n                            'data-field': 'Advertisement.apartment',\r\n                            'class': 'JS-apartment input-normal',\r\n                            'data-categories': location.getCategoriesShowField('apartment', 'json', 7),\r\n                            'required': location.hasRequiredField('ApartmentNumber'),\r\n                            'label': {'class': 'label-title', 'text': location.getLabel('ApartmentNumber', location.hasRequiredField('ApartmentNumber'))},\r\n                        }) }}\r\n\r\n                        {{ form.input('Contractor.0.fio', {\r\n                            'type': 'text',\r\n                            'required': true,\r\n                            'class': 'client-name input-normal',\r\n                            'label': {'class': 'label-title', 'text': 'Фамилия, Имя, Отчество *'}\r\n                        }) }}\r\n                        <div class=\"row\">\r\n                            <div class=\"col-1-2\">\r\n                                {{ form.input('Contractor.0.phone', {\r\n                                    'type': 'tel',\r\n                                    'required': true,\r\n                                    'class': 'client-phone input-normal',\r\n                                    'label': {'class': 'label-title', 'text': 'Ваш телефон *'}\r\n                                }) }}\r\n                            <\/div>\r\n                            <div class=\"col-1-2\">\r\n                                {{ form.input('Contractor.0.email', {\r\n                                    'type': 'email',\r\n                                    'class': 'client-mail input-normal',\r\n                                    'label': {'class': 'label-title', 'text': 'Ваш E-mail'}\r\n                                }) }}\r\n                            <\/div>\r\n                        <\/div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-1-2\">\r\n                                {{ form.input('title', {\r\n                                    'type': 'text',\r\n                                    'class': 'input-normal',\r\n                                    'label': {'class': 'label-title', 'text': 'Заголовок'}\r\n                                }) }}\r\n                            <\/div>\r\n                            <div class=\"col-1-2\">\r\n                                {{ form.input('price', {\r\n                                    'type': 'text',\r\n                                    'class': 'input-normal price_mask',\r\n                                    'required': true,\r\n                                    'label': {'class': 'label-title', 'text': 'Стоимость *'}\r\n                                }) }}\r\n                            <\/div>\r\n                        <\/div>\r\n                        {{ form.input('text', {\r\n                            'type': 'textarea',\r\n                            'rows': 3,\r\n                            'label': {'class': 'label-title', 'text': 'Описание'}\r\n                        }) }}\r\n                        <div class=\"form-agree align-left\">\r\n                            <label class=\"checkbox-label form-agree-check checked\">\r\n                                {{ form.checkbox('confirmation', {'checked': true,'hidden': true,'class': 'accent-check','hiddenField': false,'value': 1}) }}\r\n                                Настоящим подтверждаю, что ознакомлен и согласен <br>\r\n                                с условиями <a href=\"#\" class=\"open-text-modal agree-link\" data-id=\"1\">политики конфиденциальности.<\/a>\r\n                            <\/label>\r\n                        <\/div>\r\n                        <div class=\"btn-holder btn-holder-flex\">\r\n                            {{ form.button('Опубликовать', {'type': 'submit', 'class': 'btn'}) }}\r\n                            {{ form.button('Добавить фото', {'type': 'button', 'class': 'btn JS-add-photo'}) }}\r\n                            {% if recaptcha.hasKey() %}\r\n                                {{ recaptcha.display_form({'id': 'realty_form', 'div': 'recaptcha-block'}) }}\r\n                            {% endif %}\r\n                        <\/div>\r\n                        <div id=\"AdvertisementPicture_list\"><\/div>\r\n                    <\/div>\r\n                    <div class=\"col-1-2 col-xs-1\">\r\n                        <div id=\"categoryParams\" data-ajax-load><\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            {{ form.end() }}\r\n        <\/div>\r\n    <\/div>\r\n<\/section>\r\n{{ html.script('Agency.realty\/edit\/validation_rotate') }}\r\n<div class=\"upload-form\" style=\"display: none\">\r\n    {{ uploadForm.load({\r\n        'url': '\/file_upload\/handler',\r\n        'modelName': 'Advertisement',\r\n        'pictureModelName': 'AdvertisementPicture',\r\n        'foreignKey': 'advertisement_id',\r\n        'container': '#AdvertisementPicture_list',\r\n        'addBtn': false\r\n    }) }}\r\n<\/div>\r\n",
                "status": true,
                "params": "disabledCkEditor=1",
                "show_title": false,
                "visibility_roles": "",
                "visibility_paths": ""
            }
        ]
    }
]